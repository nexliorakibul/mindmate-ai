import{u as y,a as j,b as w,r as m,j as e,B as t,P as b,T as d,I as v,C as S,L as I,y as c}from"./index-6aHAXhIk.js";import{u as C,I as P,V as T,a as L,L as q}from"./index.esm-B9j8c1RZ.js";import{C as k}from"./Container-BD_EyOa5.js";import{m as A}from"./proxy-e3X3YiJP.js";import{T as u}from"./TextField-kyXPCg2a.js";import{B}from"./Button-YyUmjED8.js";import"./Select-Dt2UFBzN.js";import"./useSlotProps-C7apNGNe.js";import"./useControlled-W9q4l4gi.js";const O=()=>{const{register:o,handleSubmit:p,formState:{errors:s}}=C(),{login:x}=y(),h=j(),{t:r}=w(),[i,n]=m.useState(!1),[a,g]=m.useState(!1),f=async l=>{n(!0);try{await x(l.email,l.password),c.success(r("welcome")),h("/")}catch{c.error("Login failed (Check console for mock creds or use any non-empty values)")}finally{n(!1)}};return e.jsx(k,{component:"main",maxWidth:"xs",children:e.jsx(t,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(b,{elevation:3,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",borderRadius:2},children:[e.jsx(d,{component:"h1",variant:"h5",color:"primary",sx:{mb:2,fontWeight:"bold"},children:"MindMate AI"}),e.jsx(d,{component:"h1",variant:"h5",children:r("login")}),e.jsxs(t,{component:"form",onSubmit:p(f),noValidate:!0,sx:{mt:1,width:"100%"},children:[e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:r("email"),name:"email",autoComplete:"email",autoFocus:!0,...o("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email"}}),error:!!s.email,helperText:s.email?.message}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:r("password"),type:a?"text":"password",id:"password",autoComplete:"current-password",...o("password",{required:"Password is required"}),error:!!s.password,helperText:s.password?.message,InputProps:{endAdornment:e.jsx(P,{position:"end",children:e.jsx(v,{"aria-label":"toggle password visibility",onClick:()=>g(!a),edge:"end",children:a?e.jsx(T,{}):e.jsx(L,{})})})}}),e.jsx(B,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:i,startIcon:i&&e.jsx(S,{size:20,color:"inherit"}),children:i?"Signing in...":r("login")}),e.jsx(t,{sx:{textAlign:"center"},children:e.jsx(q,{component:I,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})})})})};export{O as default};
